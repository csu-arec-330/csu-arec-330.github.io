---
title: "Week 2 Lab: R and Tableau Intro I"
format: html
---

Notes:

- walk through steps in excel to illustrate what is happening

## Learning Objectives R

## Learning Objectives Tableau
- Describe the flow of analysis in Tableau Desktop

- Identify key areas of the Tableau Desktop workspace

- Demonstrate how to connect Tableau to a database

- Identify the role and type of data fields

- Choose an appropriate data visualization based on a business scenario and audience.

- Build a simple data visualization

- Demonstrate how to share your data visualization

## Data Problems

Data is not always perfect.  Often times datasets contain errors that you need to correct before the data can be used.  This process is called data cleaning.  Data errors are introduced by human error during data entry, the failure of machines that automatically generate data, and corruption of stored data.


## Lab Exercise

1. Calculate the total value of the sale using the *unit_price* and *quantity* columns.  Name the new column *subtotal*.

2. Create a dataset containing only the subset of sales from the product line *food and beverages*.

3. Create a dataset containing only the subset of sales from the product line *food and beverages* and excluding the *date* and *time* columns (fields or variables). 

4. Sort the dataset resulting from steps 1-3 by subtotal in descending order. 


## Problem Set

1. All sales in the supermarket are subject to a 5% tax (assessed on sale subtotal).  **First**, calculate a new column with the sales tax charged on each sale.  **Second**, calculate the value of the total sale (inclusive of the tax).

2. The supermarket wants to know the sale margin (the amount received in excess of the costs of the goods and services).  Calculate the supermarket's [gross income](https://www.investopedia.com/terms/g/grossincome.asp) for each sale.

3. The dataset you were given to work with contains the cost of goods and services (the column name is `cogs`).  However, analysts need you to calculate the cost per item.  You can assume that each item in the sale has the same unit cost.

----------------------------------------

Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.

## Running Code

When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r}
1 + 1
```

You can add options to executable code like this 

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).



## Tableau Setup

We will be using two Tableau products in this course (although there are many more - see handout): Tableau Desktop and Tableau Public. Tableau desktop typically requires a paid subscription, but as students (and teachers) we get it for free. 

Visit [Tableau for students](https://www.tableau.com/academic/students) and apply for your 1-year academic license.

Visit [Tableau Desktop](https://www.tableau.com/products/desktop) and download Tableau Desktop using the 14-day free trial. You can enter your product license key once you receive an email with your academic license.

Visit [Tableau Public](https://public.tableau.com/app/discover) and create an account. You will use this account to host your data visualizations, which you can then embed on your google site. You will be required to use this to upload homework assignments.

If you are ever feeling lost in this class, I recommend checking out some of Tableau's free [eLearning resources](https://elearning.tableau.com). We will use some videos from these trainings throughout the course and I am happy to recommend specific resources to fit your needs.

## Introduction to Tableau: The Tableau Workflow 

Connect -> Analyze -> Share 

[Video: The Tableau Desktop Workflow](https://elearning.tableau.com/getting-started-with-tableau-desktop/699179/scorm/26hb0xo2vxhr)

### Connect

You will **connect** to your data on the **data source page** following these steps:

1.  Establish a connection

2.  View available sheets

3.  Select the first sheet you want to work with

4.  View and edit sheet metadata

5.  Connect additional sheets (optional)

### Analyze

You will **analyze** your data in a **worksheet**/**workspace** following these steps:

1.  Click on `Sheet 1` at the bottom of the Tableau Desktop window. 

2.  Use the `Data Pane` to view the data source and explore data fields within a worksheet

3.  Use the Columns and Rows Shelves to create a structure for your visualization. You will create a visualization by placing fields on these shelves. You can place any number of fields on these shelves.

4.  View your visualization in the `View Pane`.

5.  Change aggregations

6.  Use `Show Me`

Throughout the course you will continue to learn new features of the analysis capabilities of Tableau, but for now this is what you need to know.

### Share

You will **share** your **worksheet** on Tableau Public by following these steps:

1.  Connect Tableau Desktop to your Tableau Public account. Server -> Tableau Public

2.  Publish. Server -> Publish Workbook. OR Server -> Tableau Public -> Save to Tableau Public

You should also save a local copy of your work as a Tableau Workbook. File -> Save. OR click the floppy disk icon (![](figs/save.png){width=5%}) at the top of the page.

3.  Embed your visualization in your google website.

