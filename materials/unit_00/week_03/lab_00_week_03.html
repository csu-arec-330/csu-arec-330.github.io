<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 3 Lab: Tableau Fundamentals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="lab_00_week_03_files/libs/clipboard/clipboard.min.js"></script>
<script src="lab_00_week_03_files/libs/quarto-html/quarto.js"></script>
<script src="lab_00_week_03_files/libs/quarto-html/popper.min.js"></script>
<script src="lab_00_week_03_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lab_00_week_03_files/libs/quarto-html/anchor.min.js"></script>
<link href="lab_00_week_03_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lab_00_week_03_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lab_00_week_03_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lab_00_week_03_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lab_00_week_03_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives-r" id="toc-learning-objectives-r" class="nav-link active" data-scroll-target="#learning-objectives-r">Learning Objectives R</a></li>
  <li><a href="#learning-objectives-tableau" id="toc-learning-objectives-tableau" class="nav-link" data-scroll-target="#learning-objectives-tableau">Learning Objectives Tableau</a></li>
  <li><a href="#lab-overview" id="toc-lab-overview" class="nav-link" data-scroll-target="#lab-overview">Lab Overview</a>
  <ul class="collapse">
  <li><a href="#analyze-overview" id="toc-analyze-overview" class="nav-link" data-scroll-target="#analyze-overview">Analyze Overview</a></li>
  <li><a href="#create-calculated-fields" id="toc-create-calculated-fields" class="nav-link" data-scroll-target="#create-calculated-fields">7. Create calculated fields</a></li>
  <li><a href="#more-advanced-bar-charts" id="toc-more-advanced-bar-charts" class="nav-link" data-scroll-target="#more-advanced-bar-charts">8. More advanced bar charts</a></li>
  </ul></li>
  <li><a href="#r-dplyr-continued" id="toc-r-dplyr-continued" class="nav-link" data-scroll-target="#r-dplyr-continued">R: <code>dplyr</code> continued</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 3 Lab: Tableau Fundamentals</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><img src="includes/shopping.webp" class="img-fluid"></p>
<p>This Lab Contributes to Course Objectives 2, 3, 4, 5, 6, and 8</p>
<section id="learning-objectives-r" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives-r">Learning Objectives R</h2>
</section>
<section id="learning-objectives-tableau" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives-tableau">Learning Objectives Tableau</h2>
<ul>
<li><p>Apply advanced options in the connections page</p></li>
<li><p>Identify the function of items on the Tableau Toolbar</p></li>
<li><p>Create sorted and stacked bar charts</p></li>
<li><p>Understand the functions of the <code>Marks</code> and <code>Filters</code> cards</p></li>
<li><p>Create calculated fields</p></li>
<li><p>Explain what it means to group your data</p></li>
<li><p>Apply formatting features to make your visualization more effective</p></li>
<li><p>Create a line chart</p></li>
<li><p>Manipulate date-time fields</p></li>
</ul>
</section>
<section id="lab-overview" class="level2">
<h2 class="anchored" data-anchor-id="lab-overview">Lab Overview</h2>
<p>In week 2 of the course we covered the basic Tableau flow of analysis: Connect -&gt; Analyze -&gt; Share. Each of you followed this flow in problem set 2 to produce a simple data visualization using the grocery store spending dataset.</p>
<p>Today we are going to go in more detail in the analyze step of the process. We will learn to make a few new figures, we will learn more of the features of the Tableau analysis page, and we will discuss a few ways to change the formatting of your visualizations to make them more effective.</p>
<section id="analyze-overview" class="level3">
<h3 class="anchored" data-anchor-id="analyze-overview">Analyze Overview</h3>
<p><del>1. Click on <code>Sheet 1</code> at the bottom of the Tableau Desktop window.</del></p>
<p><del>2. Use the <code>Data Pane</code> to view the data source and explore data fields within a worksheet</del></p>
<p><del>3. Use the Columns and Rows Shelves to create a structure for your visualization. You will create a visualization by placing fields on these shelves. You can place any number of fields on these shelves.</del></p>
<p><del>4. View your visualization in the <code>View Pane</code>.</del></p>
<p><del>5. Change aggregations</del></p>
<p><del>6. Use <code>Show Me</code></del></p>
<ol start="7" type="1">
<li><p>Create calculated fields</p></li>
<li><p>More advanced bar charts</p></li>
<li><p>Use the <code>Marks</code> and <code>Filters</code> Cards</p></li>
<li><p>Create groups</p></li>
<li><p>Showing and hiding the legend</p></li>
<li><p>Formatting titles, axes, etc.</p></li>
<li><p>Line charts</p></li>
<li><p>Manipulating dates</p></li>
</ol>
</section>
<section id="create-calculated-fields" class="level3">
<h3 class="anchored" data-anchor-id="create-calculated-fields">7. Create calculated fields</h3>
<p>In your last assignment you were asked to use R to calculate the total value of the sale using the <code>unit_price</code> and <code>quantity</code> columns. (And name the new column <code>subtotal</code>.)</p>
<p>We can do this sort of calculation in Tableau too!</p>
<p><img src="includes/newvar.png" class="img-fluid" style="width:60.0%"></p>
<p>Then select <code>Create Calculated Field...</code></p>
<p>Give your field a useful name (let’s use <code>subtotal</code>).</p>
<p>Drag the relevant variables into the box. Type the appropriate function (multiply). Click OK. And Voila.</p>
<p><strong>You do it:</strong> Validate that the value labeled <code>tax_5_percent</code> is indeed 5% of the <code>subtotal</code> by creating a new variable called <code>tax_verify</code>.</p>
<p><strong>You do it:</strong> Explore some other options for data manipulation by clicking the right triangle in the Create Calculated Field box. Try creating a new variable of your choosing.</p>
</section>
<section id="more-advanced-bar-charts" class="level3">
<h3 class="anchored" data-anchor-id="more-advanced-bar-charts">8. More advanced bar charts</h3>
<p>Let’s start off with our bar chart from last class where we looked at customer ratings by product line…</p>
<p>From our lecture on Wednesday, what are some ways we could improve this visualization to answer the question “Which product line has the lowest average customer rating?”</p>
<div class="notes">
<p>Title, adding color to highlight the top category, making font larger and easier to read, maybe changing axis range</p>
</div>
<p>What about <strong>sorting</strong>?</p>
<p>There are a two ways to sort bars on our chart:<br>
- use the toolbar<br>
- use the icon next to the y-axis label</p>
<p><strong>You do it:</strong> Sort the data so that the category with the highest rating is first and the category with the lowest rating is last.</p>
<p>What if we want to <strong>use color</strong> to highlight the top category?</p>
<p>There are a few ways to do this:<br>
- Drag product line to <code>color</code> on the Marks card (then edit colors) - Right click the bar you want to stand out and click <code>Group</code> (then edit colors)</p>
<p>What if we want to <strong>adjust the scale</strong> of the y-axis so that differences across the bars are easier to see?<br>
- Right click the y-axis<br>
- Click edit axis<br>
- Choose an appropriate range</p>
<p>Now what happens if we compare these customer ratings across branches? Does the product line with the top ratings vary by store?</p>
<p><strong>You do it:</strong> Highlight the product line with the top rating at branch A - how does this rank in the other branches?</p>
</section>
</section>
<section id="r-dplyr-continued" class="level2">
<h2 class="anchored" data-anchor-id="r-dplyr-continued">R: <code>dplyr</code> continued</h2>
<p>Last week we introduced the five <code>dplyr</code> verbs generally used to manipulate data. We covered <code>mutate, filter, select,</code> and <code>arrange</code>. We skipped over <code>summarize</code>. Today we will introduce <code>summarize</code> and a helpful companion function <code>group_by</code>. The <code>summarize</code> function is used to collapse multiple rows of data into a single row, by computing summary statistics for each group. This function can be used to summarize and aggregate data by computing statistics such as mean, sum, count, minimum, maximum, etc. for each group defined in the data.</p>
<p>Let’s return to our dataset <code>supermarket_sales.csv</code>. Use the function <code>read_csv()</code> to read <code>supermarket_sales.csv</code> into a dataframe called <code>supermarket_raw</code> (see <a href="../week_02/lab_00_week_02.html#read-the-data-into-r">lab 2</a>). We can use <code>summarize()</code> to calculate the total number of units sold in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>total_sold <span class="ot">&lt;-</span> <span class="fu">summarize</span>(supermarket_raw,<span class="at">quantity_summed=</span><span class="fu">sum</span>(quantity)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>