<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Problem Set 5: Working with time series data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="ps5_files/libs/clipboard/clipboard.min.js"></script>
<script src="ps5_files/libs/quarto-html/quarto.js"></script>
<script src="ps5_files/libs/quarto-html/popper.min.js"></script>
<script src="ps5_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ps5_files/libs/quarto-html/anchor.min.js"></script>
<link href="ps5_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ps5_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ps5_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ps5_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ps5_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Problem Set 5: Working with time series data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="part-1-r" class="level2">
<h2 class="anchored" data-anchor-id="part-1-r">Part 1: R</h2>
<ol type="1">
<li><p>All computer programs track time numerically relative to an epoch. What is the numeric value of the assignment due date 02/23/2023?</p></li>
<li><p>Use the <code>tidyquant</code> package to access the FRED API and download 3 time series datasets.</p></li>
<li><p>Use <code>case_when()</code> to change the name of the series to something more descriptive.</p></li>
<li><p>Export the data in .csv format for Tableau</p></li>
</ol>
</section>
<section id="part-2-tableau" class="level2">
<h2 class="anchored" data-anchor-id="part-2-tableau">Part 2: Tableau</h2>
<ol type="1">
<li><p>In Tableau, connect to all 3 of the time series datasets you downloaded in part 1. Create a relationship between the three datasets by setting the Date variables equal to one another.</p></li>
<li><p>Create a new field called <code>months_around_financial_crisis</code> that calculates the number of months between the indicated month and the month the 2008 financial crisis was first reflected in U.S. stock markets (August 2007).</p></li>
<li><p>Create a visualization that shows monthly prices for your three commodities, using your new <code>months_around_financial_crisis</code> variable as the time dimension (x-axis).</p></li>
<li><p>Create a structural break in your time series at the time of the financial crisis. Add trend lines for each series leading up to and following the financial crisis.</p></li>
<li><p>In the caption of your figure, explain whether or not these three commodities appeared to be influence by the financial crisis. Does any difference across commodities make sense?</p></li>
<li><p>Finally, format your visualization by limiting the time window (to something that helps the audience see differences before and after the crisis), adding color, a useful title, appropriate marker labels, text annotations, etc.</p></li>
<li><p>Choose one of your commodities to focus on. Create a new visualization that shows annual trends in maximum, minimum, and average prices for this commodity before and after the financial crisit. Does this annual analysis change your results or conclusions about the impacts of the financial crisis for this commoditiy? Discuss any differences, similarities, or additional insights from this analysis in the figure caption.</p></li>
</ol>
</section>
<section id="how-to-submit" class="level2">
<h2 class="anchored" data-anchor-id="how-to-submit">How to Submit</h2>
<p>You should create a new webpage on your google site titled <code>Problem Set 5</code>. This webpage should include your responses to both Parts 1 and Parts 2 of the problem set. Part 1 should contain an R script with the code used to answer the questions and your answer to question 8 in paragraph form. Part 2 should contain your evidence of completing steps 1 &amp; 2 and a link to your Tableau Public site. Submit the link to your google site webpage in Canvas.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>