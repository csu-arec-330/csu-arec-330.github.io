---
title: "Week 13: <br>Spatial Data and <br>  Project 3 Introduction"
format: 
  revealjs:
    theme: [night, ../../custom.scss]
    slide-number: c/t
    width: 1400
    # logo: path.png
    # center: TRUE
---

## Agenda 

Spatial data overview

Spatial joins

Project 3 overview 


<!-- example of big text fit to slide width -->

<!-- ::: {.r-fit-text} -->
<!-- Big Text -->
<!-- ::: -->

<!-- :::: {.columns style="text-align: center"} -->
<!-- ::: {.column width="40%"} -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ::: -->
<!-- :::: -->

## What is spatial data? 

Data about a point or area defined in space

:::: {.columns style="text-align: left"}

::: {.column width="50%"}

Vector Data 

- Point (e.g., locations of stores, geotagged tweets)

- Line Data (e.g., roads, rivers)

- Polygon Data (e.g., boundaries of countries, lakes)

:::

::: {.column width="50%"}

Raster Data 

- Grid/raster data is reported in a uniformly sized grid over some area (e.g., satellite images)

:::

::::

<!-- ##  -->
<!-- <section data-background-image="includes/cross-sectional.png" data-background-size="contain"> -->
<!-- </section> -->

<!-- Digression on compression -->
<!-- Census API Key -->

## Common Sources of Spatial Data

- Public datasets (e.g., [USGS](https://apps.nationalmap.gov/viewer/), [NASA](https://firms.modaps.eosdis.nasa.gov/usfs/map/#d:24hrs;@-103.2,40.1,5.4z))

- Private sources (e.g., [Google Maps](https://www.google.com/maps/@40.5753329,-105.0908151,15z?entry=ttu))

- Crowdsourced data (e.g., [PurpleAir](https://map.purpleair.com/1/mAQI/a10/p604800/cC0#10.56/40.5138/-105.0647))


# Understanding Spatial Relationships


## Concepts of Spatial Relationships

:::: {.columns style="text-align: left"}

::: {.column width="50%"}

::: {.fragment .fade-in fragment-index=1}
- Distance and proximity

  - Spherical distance
:::

::: {.fragment .fade-in fragment-index=2}
- Topology (e.g., adjacency, containment)
:::
::: {.fragment .fade-in fragment-index=3}
- Accessibility and connectivity
:::

:::

::: {.column width="40%"}
::: {.r-stack}
![](https://global.discourse-cdn.com/swift/original/2X/c/c2dde505073351cf55d25cca950804f0452a9f99.png){.fragment .fade-in-then-out fragment-index=1}

![](https://i0.wp.com/peter-horton.com/wp-content/uploads/2022/05/selected_point_state_adjacencies.png?resize=840%2C888&ssl=1){.fragment .fade-in-then-out fragment-index=2}

![](https://idlewords.com/images/fb_graph.png){.fragment .fade-in-then-out fragment-index=3}
:::



:::

::::

::: {.notes}
- Calculating distances between points on a globe requires accounting for the curvature of the earth.


:::


## Tools for Analyzing Spatial Relationships

- Geographic Information Systems (GIS)

  - ESRI ArcGIS
  
  - QGIS (free GUI alternative)
  
  - R/Python libraries (scripted)

- Spatial functions in databases (e.g., PostGIS)


# Working with Spatial Data


##  Data Collection Techniques

:::: {.columns style="text-align: left"}

::: {.column width="50%"}

::: {.fragment .fade-in fragment-index=1}
- GPS data collection
:::

::: {.fragment .fade-in fragment-index=2}
- Remote sensing and aerial photography
:::

:::

::: {.column width="40%"}
::: {.r-stack}
![](https://www.quadrant.io/hubfs/New%20website%20images%202023/Hero/Final/Screenshot%202023-07-18%20at%202.07.50%20PM.png){.fragment .fade-in-then-out fragment-index=1}

![](https://www.space-intelligence.com/wp-content/uploads/2018/04/Sentinel-1_radar_vision.jpg){.fragment .fade-in-then-out fragment-index=2}

:::

:::

::::

::: {.notes}
- GPS devices record location information based on satellite triangulation. There are many applications: your phone uses this to help you navigate; on wildland fires, trained analysts record the location of built fire line.

- Remote sensing and imaging are data generated by satellite mounted instruments: taking digital images; infrared heat detection to characterize emerging fire locations.
:::


## Data Processing and Cleaning

:::: {.columns style="text-align: left"}

::: {.column width="50%"}
- Calculating distance between objects

- Calculating area of polygons

- Spatial joins

- Geocoding and reverse geocoding
:::

::: {.column width="50%"}
![](https://raw.githubusercontent.com/rstudio/cheatsheets/main/pngs/sf.png)
:::

::::

## Spatial joins

:::: {.columns style="text-align: left"}

::: {.column width="50%"}

::: {.fragment .fade-in fragment-index=1}
- Joining data based on shared location


:::

::: {.fragment .fade-in fragment-index=2}
- Points/lines in polygons

:::

::: {.fragment .fade-in fragment-index=3}

- Intersecting polygons
:::

:::

::: {.column width="40%"}
::: {.r-stack}
![](https://gisgeography.com/wp-content/uploads/2019/04/Spatial-Join.png){.fragment .fade-in-then-out fragment-index=1}

![](https://pygis.io/_images/overlay_intersects.jpg){.fragment .fade-in fragment-index=2}

:::

:::

::::





## Geocoding

:::: {.columns style="text-align: left"}

::: {.column width="50%"}

- Converting an address to a set of coordinates 

- Reverse geocoding is the process from coordinates to address

:::

::: {.column width="50%"}

![](https://geospatialmedia.s3.amazonaws.com/wp-content/uploads/2018/05/geocoding-graph.jpg)

:::

::::

## Conclusion

- Spatial data references a location

- Spatial data enables calculation and manipulation

- Spatial information enables joining to other data (e.g., census)

# Project 3



