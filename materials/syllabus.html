<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Syllabus AREC 330 Data-Driven Decision Making</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="syllabus_files/libs/clipboard/clipboard.min.js"></script>
<script src="syllabus_files/libs/quarto-html/quarto.js"></script>
<script src="syllabus_files/libs/quarto-html/popper.min.js"></script>
<script src="syllabus_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="syllabus_files/libs/quarto-html/anchor.min.js"></script>
<link href="syllabus_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="syllabus_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="syllabus_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="syllabus_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="syllabus_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus AREC 330 Data-Driven Decision Making</h1>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 14, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<!-- lumen, materia, minty, sandstone, simplex, superhero, yeti -->
<section id="when-and-where" class="level2">
<h2 class="anchored" data-anchor-id="when-and-where">When and Where</h2>
<p>Lecture: Nutrien 135, Wed 1:00 - 1:50 PM</p>
<p>Lab: Nutrien 103, Fri 1:00 - 2:40 PM</p>
</section>
<section id="course-webpages" class="level2">
<h2 class="anchored" data-anchor-id="course-webpages">Course Webpages</h2>
<p><a href="https://csu-arec-330.github.io/">Course Website</a></p>
<p><a href="https://colostate.instructure.com/courses/162079">Course Canvas</a></p>
</section>
<section id="who" class="level2">
<h2 class="anchored" data-anchor-id="who">Who</h2>
<p><strong>Lauren Chenarides</strong> (Instructor), <a href="mailto:lauren.chenarides@colostate.edu">lauren.chenarides@colostate.edu</a>, 970-491-2480, Nutrien 201</p>
<p>Office Hours: F 3-4PM &amp; by appt <a href="https://usemotion.com/meet/lauren-chenarides/meeting" class="uri">https://usemotion.com/meet/lauren-chenarides/meeting</a></p>
<p><strong>Jude Bayham</strong> (Instructor), <a href="mailto:jbayham@colostate.edu">jbayham@colostate.edu</a>, 970-491-2836, Nutrien 203</p>
<p>Office Hours: W 2-3PM &amp; by appt <a href="https://go.oncehub.com/jude_bayham" class="uri">https://go.oncehub.com/jude_bayham</a></p>
<p><strong>Zarif Rasul</strong> (TA), <a href="mailto:Zarif.Rasul@colostate.edu">Zarif.Rasul@colostate.edu</a></p>
<p>Office Hours: Th 12-1PM Nutrien 165</p>
</section>
<section id="course-description" class="level2">
<h2 class="anchored" data-anchor-id="course-description">Course Description</h2>
<p>The world generates <a href="https://financesonline.com/how-much-data-is-created-every-day/#:~:text=Every%20day%20Big%20Data%20statistics,(2021%2C%20February%209).">2.5 quintillion bytes</a> of data each day. One of the key modern business challenges is transforming that data into actionable insights that improve decision making (i.e., data-driven decision making). Transforming data into information is not magic. It requires understanding the decision problem, organizing and processing data, analyzing data, and finally presenting information. This course will introduce you to this process of transforming data into actionable insights and build a core set of competencies with two commonly used software: R and Tableau. Since we only have 16 weeks, the most important lesson you will learn in this class is how to teach yourself what you need to know in the future. You will learn these skills by completing the three group projects over the semester.</p>
</section>
<section id="course-objectives" class="level2">
<h2 class="anchored" data-anchor-id="course-objectives">Course Objectives</h2>
<ol type="1">
<li><p>Recognize how to efficiently acquire data from a variety of sources</p></li>
<li><p>Implement best practices for coding</p></li>
<li><p>Demonstrate data literacy</p></li>
<li><p>Use R and Tableau to read, manipulate, and organize data in a variety of structures and formats</p></li>
<li><p>Examine real-world business and policy questions using appropriate data, analytical techniques, and visualizations</p></li>
<li><p>Support business and policy recommendations by conveying findings as a comprehensive story in a manner appropriate for business settings and policy makers</p></li>
<li><p>Construct appropriate summary statistics and analyses to inform business and policy decisions</p></li>
<li><p>Design interactive data visualizations to inform business and policy decisions</p></li>
</ol>
<p>Throughout the semester, course materials will indicate which of these 8 learning objectives the materials are contributing to by referencing the course objective (CO) number.</p>
</section>
<section id="course-learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="course-learning-outcomes">Course Learning Outcomes</h2>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DARE Learning Outcomes
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Successful graduates from undergraduate programs in Agricultural and Resource Economics will exhibit the following characteristics:</p>
<p><strong>Professional Development</strong>: Graduates will embody a general awareness of issues in agricultural and natural resource and education issues and their implications in a larger societal context. Students will begin to develop a network of personal and professional connections, which will foster an understanding of the culture surrounding professional expectations and conduct.</p>
<p><strong>Technical Competence</strong>: Graduates will demonstrate technical competency including the ability to use theory in formulating analytical problems, identifying and gathering appropriate data, employing appropriate analysis of those problems, utilizing appropriate available technology, and educating others.</p>
<p><strong>Problem-solving Skills</strong>: Graduates will demonstrate the ability to solve real-world problems beyond the context of the classroom. Students will be able to identify a problem and its scope, evaluate resources available to address the problem, formulate alternative solutions, and select the solution(s) most consistent with a stated objective.</p>
<p><strong>Communication Skills</strong>: Graduates will demonstrate proficiency in oral and written communication in terms of substance, organization, mechanics, documentation, and synthesis. Proficient students will have the ability to communicate material and findings at a professional level within their chosen career.</p>
<p><strong>Leadership</strong>: Graduates will have developed leadership qualities that they will use in their professional, personal and community interactions leveraging the other competencies acquired in the program. These leadership qualities include vision, initiative, personal responsibility, team building, and motivating collective action.</p>
</div>
</div>
</div>
<p>This course will contribute to several DARE Learning Outcomes:</p>
<ul>
<li><p>You will develop <strong>Technical Competence</strong> and <strong>Problem-solving Skills</strong> while studying <em>Ag Business</em> and <em>Environmental and Resource Economics</em> issues, not to mention, learning to code in R and developing visualizations in Tableau.</p></li>
<li><p>You will develop <strong>Communication Skills</strong> and <strong>Leadership</strong> skills as you work in teams on problem-driven projects and communicate the results of your analyses to the instructors and your peers.</p></li>
</ul>
</section>
<section id="course-materials" class="level2">
<h2 class="anchored" data-anchor-id="course-materials">Course Materials</h2>
<p>All course materials are freely available on the course website. There is no single textbook that you need to purchase. Course deliverables will be submitted on Canvas unless otherwise noted.</p>
<p>The course will require the use of <a href="https://www.r-project.org/">R (statistical computing software)</a> and <a href="https://www.tableau.com/">Tableau (business intelligence software)</a>. R is an open source platform free to anyone. Tableau is freely available to you while you are a student at CSU. You will need to use these tools outside of class, so we recommend installing them on your own computer. Otherwise, it will be your responsibility to use the computer labs outside of class to complete assignments.</p>
<p>Another option for accessing R is to use the DARE compute server. You can access RStudio on the server here: <a href="http://darecompute-01.aggie.colostate.edu:8787/" class="uri">http://darecompute-01.aggie.colostate.edu:8787/</a>. This link should simply work while you are <strong>on campus</strong>. While you are <strong>off campus</strong>, you need to active the virtual private network (VPN). You can find instructions for setting up the VPN here: <a href="https://it.colostate.edu/cybersecurity/globalprotect-vpn/" class="uri">https://it.colostate.edu/cybersecurity/globalprotect-vpn/</a>.</p>
<p>We will use iClicker software to take attendance at lecture and assess understanding of the material. If you have not already joined the course, you can do so using this link: <a href="https://join.iclicker.com/BIDY" class="uri">https://join.iclicker.com/BIDY</a></p>
</section>
<section id="course-structure" class="level2">
<h2 class="anchored" data-anchor-id="course-structure">Course Structure</h2>
<p><strong>Projects</strong> The course is organized into four projects intended to develop different analytical skills. The projects will be completed in teams. The project in each unit will be completed in parts. The parts will be submitted as weekly assignments. However, the final project deliverable will be worth the majority of points. You will present each of your final projects to the class. You will record the group presentation on video for the instructors and classmates to view. You will review each others presentations highlighting strengths and weaknesses. One lab session will be devoted to a question and answer session where the instructors and students will ask questions of the presenters.</p>
<p><strong>Teams</strong> Many careers require teamwork in some form. In this course, you will work in teams to complete your assignments and present your work. Team projects will train students to collaborate with peers as they likely will do in the workplace. Group work can also lead to freeriding so, students will evaluate themselves and each other after each project. The evaluation will provide the students the opportunity to explain their contribution and those of their peers. The instructors will be available to resolve disputes within a team. However, the most productive arrangement for this class (and in your future workplace) is to communicate expectations with your colleagues and do your part of the project.</p>
<p><strong>Website</strong> Students will create a website that will serve as a repository for projects/assignments. If this is your first time creating a website, we recommend <a href="https://sites.google.com">google sites</a> - a free and easy to use website editing and hosting tool. It will also serve as a record of their work in a presentable format that can be shared within or outside of CSU. <em>There are many other tools for building and hosting websites. Please come talk to us if you have another option in mind or would like learn a more advanced option.</em></p>
<p><strong>Quizzes</strong> There will be quizzes approximately every two weeks. The quizzes will be administered on Canvas and must be taken in class on the indicated lab day. Quizzes will cover topics ranging from data processing to graphical presentation of information.</p>
<p><strong>Attendance and Participation</strong> There will be iClicker questions incorporated into most lecture materials. These questions are intended to test understanding of lecture materials and provide the instructors with real-time feedback on comprehension. Responses will account for a small portion of the overall course grade.</p>
</section>
<section id="course-expectations-and-policies" class="level2">
<h2 class="anchored" data-anchor-id="course-expectations-and-policies">Course Expectations and Policies</h2>
<p>We will communicate with you through your CSU email (<span class="citation" data-cites="rams.colostate.edu">@rams.colostate.edu</span>) and through Canvas. Email is the best way to reach us. When many students have the same kind of question, we may reply to the entire class or post documents on the class website.</p>
<p>During class, please turn off your cell phones and put them away. Be respectful of each other and your instructors/TA. Much of the course content will require the use of computers. Please use laptops and lab computers appropriately (do not watch media in class).</p>
</section>
<section id="course-outline" class="level2">
<h2 class="anchored" data-anchor-id="course-outline">Course Outline</h2>
<ul>
<li><p>Project 00</p>
<ul>
<li><p>What is Data-Driven Decision Making (D<span class="math inline">\(^3\)</span>M)?</p></li>
<li><p>Introduction to data processing with R</p></li>
<li><p>Introduction to data visualization with Tableau</p></li>
<li><p>Developing a workflow; Breaking a project into parts</p></li>
</ul></li>
<li><p>Project 01: Time Series Data and Forecasting</p>
<ul>
<li><p>How price forecasting can influence business decisions?</p></li>
<li><p>Time series analysis</p></li>
<li><p>Forecasting</p></li>
<li><p>Telling a story with your data analysis</p></li>
</ul></li>
<li><p>Project 02: Cross-Sectional and Spatial Data</p>
<ul>
<li><p>How does a firm study customers to improve marketing and sales?</p></li>
<li><p>Exploratory Data Analysis</p></li>
<li><p>Introduction to spatial data processing</p></li>
<li><p>Maps in Tableau</p></li>
<li><p>How to present a statistical model</p></li>
</ul></li>
<li><p>Project 03: Panel Data and Causal Inference</p>
<ul>
<li><p>How do firms use data to understand whether a policy or intervention worked as intended?</p></li>
<li><p>Basics of causal inference</p></li>
<li><p>Dynamic plots in Tableau</p></li>
</ul></li>
</ul>
</section>
<section id="grading" class="level2">
<h2 class="anchored" data-anchor-id="grading">Grading</h2>
<p><strong>Quizzes</strong>: There will be approximately 8 quizzes worth 20% of your final grade.</p>
<p><strong>Projects</strong>: There will be four projects in this course. The first (introductory) project will be worth 15% of your final grade. The remaining three projects will each by worth approximately 20% of your final grade (75% total for projects).</p>
<p><strong>Attendance and Participation</strong>: There will be iClicker questions incorporated into most lecture materials. Completing iClicker polls will account for 5% of your final grade.</p>
<p>Letter grades will be assigned based on the conventional CSU grading scale (93% or more = A, 90% - 92% = A-, 88% - 89% = B+, 83% - 87% = B, 80% - 82% = B-, 78% - 79% = C+, 73% - 77% = C, 70% - 72% = C-, 60% - 69% = D, less than 60% = F)</p>
<p>If you have made it this far reading the syllabus, kudos to you! Please send the TA (Zarif Rasul) an email with the subject “arec 330 extra credit” and tell him your favorite vegetable. You will receive 5 points of extra credit for completing this before class on Friday, Jan 20, 2023.</p>
</section>
<section id="principles-of-community" class="level2">
<h2 class="anchored" data-anchor-id="principles-of-community">Principles of Community</h2>
<p>The Principles of Community support the Colorado State University mission and vision of access, research, teaching, service and engagement. A collaborative, and vibrant community is a foundation for learning, critical inquiry, and discovery. Therefore, each member of the CSU community has a responsibility to uphold these principles when engaging with one another and acting on behalf of the University</p>
<p><em>Inclusion</em>: We create and nurture inclusive environments and welcome, value and affirm all members of our community, including their various identities, skills, ideas, talents, and contributions.</p>
<p><em>Integrity</em>: We are accountable for our actions and will act ethically and honestly in all our interactions.</p>
<p><em>Respect</em>: We honor the inherent dignity of all people within an environment where we are committed to freedom of expression, critical discourse, and the advancement of knowledge.</p>
<p><em>Service</em>: We are responsible, individually and collectively, to give of our time, talents, and resources to promote the well-being of each other and the development of our local, regional, and global communities.</p>
<p><em>Social Justice</em>: We have the right to be treated and the responsibility to treat others with fairness and equity, the duty to challenge prejudice, and to uphold the laws, policies and procedures that promote justice in all respects.</p>
</section>
<section id="mental-health-statement" class="level2">
<h2 class="anchored" data-anchor-id="mental-health-statement">Mental Health Statement</h2>
<p>Need Help?</p>
<p>CSU is a community that cares for you. If you are struggling with drugs or alcohol and/or experiencing depression, anxiety, overwhelming stress or thoughts of hurting yourself or others please know there is help available. Counseling Services has trained professionals who can help. Contact 970.491.6053 or go to http://health.colostate.edu. If you are concerned about a friend or peer, tell someone at by calling 970.491.1350 to discuss your concerns with a professional who can discreetly connect the distressed individual with the proper resources (http://supportandsafety.colostate.edu/tellsomeone). Rams take care of Rams. Reach out and ask for help if you or someone you know is having a difficult time.</p>
</section>
<section id="sexual-assault-and-violence-elimination" class="level2">
<h2 class="anchored" data-anchor-id="sexual-assault-and-violence-elimination">Sexual Assault and Violence Elimination</h2>
<p>CSU’s Student Sexual Harassment and Violence policy, following national guidance from the Office of Civil Rights, requires that professors follow CSU policy as a “mandatory reporter” of any personal disclosure of sexual harassment, abuse, and/or violence related experiences or incidents shared with the professor in person, via email, and/or in classroom papers or homework exercises. These disclosures include but are not limited to reports of personal relational abuse, relational/domestic violence, and stalking. While professors are often able to help students locate appropriate channels of assistance on campus (e.g., see the CSU Health Network link below), disclosure by the student to the professor requires that the professor inform appropriate CSU channels to help ensure that the student’s safety and welfare is being addressed, even if the student requests that the disclosure not be shared.</p>
<p>For counseling support and assistance, please see The CSU HEALTH NETWORK, which includes a variety of counseling services that can be accessed at: http://www.health.colostate.edu/. And, The Sexual Assault Victim Assistance Team is a confidential resource for students that does not have a reporting requirement and that can be of great help to students who have experienced sexual assault. The web address is http://www.wgac.colostate.edu/need-help-support.</p>
</section>
<section id="academic-integrity" class="level2">
<h2 class="anchored" data-anchor-id="academic-integrity">Academic Integrity</h2>
<p>Academic misconduct (see examples below) undermines the educational experience at Colorado State University, lowers morale by engendering a skeptical attitude about the quality of education, and negatively affects the relationship between students and faculty/instructors.</p>
<p>Faculty/Instructors are expected to use reasonably practical means of preventing and detecting academic misconduct. Any student found responsible for having engaged in academic misconduct will be subject to academic penalty and/or University disciplinary action.</p>
<p>Students are encouraged to positively impact the academic integrity culture of CSU by reporting incidents of academic misconduct.</p>
<p>Examples of academic misconduct include (but are not limited to):</p>
<ol type="1">
<li><p>Cheating – Cheating includes using unauthorized sources of information and providing or receiving unauthorized assistance on any form of academic work or engaging in any behavior specifically prohibited by the instructor in the course syllabus or class presentation. <strong>Do not use generative AI (e.g., Chat GPT) to generate content that you represent as your own. You may use the tool as a coding assistant to solve problems and help you understand the software used in the course</strong></p></li>
<li><p>Plagiarism – Plagiarism includes the copying of language, structure, images, ideas, or thoughts of another, and representing them as one’s own without proper acknowledgment, and is related only to work submitted for credit. Also included is the failure to cite sources properly; sources must always be appropriately referenced, whether the source is printed, electronic or spoken.</p></li>
<li><p>Unauthorized Possession or Disposition of Academic Materials – Unauthorized possession or disposition of academic materials includes the unauthorized selling or purchasing of examinations, term papers, or other academic work; stealing another student’s work; and using information from or possessing exams that an instructor did not authorize for release to students.</p></li>
<li><p>Falsification – Falsification encompasses any untruth, either verbal or written, in one’s academic work.</p></li>
<li><p>Facilitation of any act of Academic Misconduct – Facilitation of any act of academic misconduct includes knowingly assisting another to commit an act of misconduct.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><embed src="extra_files/classroom_agreement.pdf" style="width:100.0%" height="1040"></p>
<figcaption class="figure-caption">Classroom Agreement</figcaption>
</figure>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>